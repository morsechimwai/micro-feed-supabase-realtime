# üßû‚Äç‚ôÇÔ∏è microFeed

<p align="center">
  <a href="https://micro-feed.vercel.app/">
    <img src="public/micro-feed.png" alt="microFeed Logo" width="120" height="120">
  </a>
</p>

microFeed is an indie-friendly, open-source micropost platform for teams that want to broadcast short updates, visuals, and ideas in real time while retaining full custody of their data. Deploy it under your own Supabase project, tweak the UI, and ship an internal or community feed in a weekend.

## Why product teams grab microFeed
- **Post instantly** ‚Äì compose, attach an image, and hit publish; every client receives the update through Supabase Realtime.
- **Edit or retire gracefully** ‚Äì update copy or swap images later; cache-busted URLs make sure nobody sees stale files.
- **Rich author profiles** ‚Äì every post renders the author‚Äôs name, bio, photo, and email by joining against the `users` table with realtime updates.
- **Dark & light themes out of the box** ‚Äì per-user theme preferences persist across sessions.
- **Mobile-first feed** ‚Äì full-screen timeline with a floating "New Post" button that opens a dialog on phones.
- **Auth that respects roles** ‚Äì Supabase Auth gates creation, edits, and deletions to signed-in members.

## Data ownership & compliance (PDPA-ready)
- **You control the stack** ‚Äì all posts and assets live in your Supabase project; no third-party data brokers involved.
- **Private storage buckets** ‚Äì images sit in a dedicated bucket with configurable Row-Level Security policies.
- **Right-to-erasure ready** ‚Äì removing a post cascades into deleting its attachment, satisfying PDPA/GDPR deletion requests.
- **Auditability** ‚Äì because Supabase logs every change, you can trace who published or modified content.

## Quick start
1. Fork or clone the repository.
2. Spin up a Supabase project (enable Auth + Storage).
3. Provision the tables and storage buckets:
   ```sql
   create table public.users (
     id bigint generated by default as identity primary key,
     email text not null,
     name text,
     bio text,
     image_url text,
     created_at timestamptz not null default timezone('utc', now()),
     updated_at timestamptz default timezone('utc', now())
   );

   alter table public.users
     add constraint users_email_key unique (email);

   create table public.posts (
     id bigint generated by default as identity primary key,
     title text not null,
     description text,
     email text not null,
     image_url text,
     created_at timestamptz not null default timezone('utc', now()),
     updated_at timestamptz default timezone('utc', now())
   );
   ```
   Create two private storage buckets: `posts-images` and `users-images`.
4. Set environment variables such as `VITE_SUPABASE_URL` and `VITE_SUPABASE_KEY`.
5. Install dependencies and run locally:
   ```bash
   npm install
   npm run dev
   ```

> Prefer a one-click path? Use Supabase or Vercel deploy buttons to bootstrap your instance with minimal setup.

## Database & Storage RLS
Turn on Row-Level Security so only authenticated members can create and maintain their own microposts and media.

```sql
-- USERS
alter table public.users enable row level security;

create policy "Read any user profile"
  on public.users for select
  using (true);

create policy "Upsert own profile"
  on public.users for insert
  with check (auth.jwt() ->> 'email' = email);

create policy "Update own profile"
  on public.users for update
  using (auth.jwt() ->> 'email' = email);

-- Enable RLS on the posts table
alter table public.posts enable row level security;

create policy "Select own or team posts"
  on public.posts for select
  using (auth.uid() is not null);

create policy "Insert new posts"
  on public.posts for insert
  with check (auth.uid() is not null);

create policy "Update own posts"
  on public.posts for update
  using (auth.jwt() ->> 'email' = email);

create policy "Delete own posts"
  on public.posts for delete
  using (auth.jwt() ->> 'email' = email);
```

Apply similar storage policies to both buckets:

```sql
create policy "Public read posts"
  on storage.objects for select
  using (bucket_id in ('posts-images', 'users-images'));

create policy "Authenticated insert posts"
  on storage.objects for insert
  with check (
    bucket_id in ('posts-images', 'users-images')
    and auth.role() = 'authenticated'
  );

create policy "Authenticated update posts"
  on storage.objects for update
  using (
    bucket_id in ('posts-images', 'users-images')
    and auth.role() = 'authenticated'
  );

create policy "Authenticated delete posts"
  on storage.objects for delete
  using (
    bucket_id in ('posts-images', 'users-images')
    and auth.role() = 'authenticated'
  );
```

## Customize & extend
- Tailwind CSS + shadcn/ui make theming and layout changes straightforward.
- React Hook Form + Zod handle validation; drop in your own field rules or extend the schema.
- Ready for add-ons: reactions, mentions, Slack/Teams relays, scheduled posts‚Äîwire them up via Supabase functions or serverless hooks.

## Contributing & license
Pull requests, issues, and feature ideas are welcome. microFeed ships under the [MIT License](./LICENSE), so you can adapt it for commercial products, internal tools, or SaaS offerings without friction.

Own your feed. Let your team share updates on your terms.
